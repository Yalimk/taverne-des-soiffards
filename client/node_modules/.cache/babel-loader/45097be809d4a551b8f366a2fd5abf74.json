{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// Native modules import\nimport React,{Component}from\"react\";import{Link,Redirect}from\"react-router-dom\";// Personal modules import\nimport{viewPost,remove}from\"../../logic/post/apiPost\";import defaultPostPic from\"../../images/beautiful-sea.jpg\";import{isLoggedIn}from\"../../logic/auth/index\";import WriteComment from\"../../components/post/WriteComment\";var OnePost=/*#__PURE__*/function(_Component){_inherits(OnePost,_Component);var _super=_createSuper(OnePost);function OnePost(){var _this;_classCallCheck(this,OnePost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={post:\"\",comments:[],redirectionPosts:false};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var postId,onePost;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:postId=_this.props.match.params.postId;_context.next=3;return viewPost(postId);case 3:onePost=_context.sent;// console.log(\"onePost dans componentDidMount\", onePost);\nif(onePost.error){console.log(\"An error happened when getting the post information.\");}else{_this.setState({post:onePost,comments:onePost.comments});}case 5:case\"end\":return _context.stop();}}},_callee);}));_this.updateComments=function(comments){_this.setState({comments:comments});};_this.deleteConfirmation=function(){var answer=window.confirm(\"Es-tu sûr de vouloir supprimer ton message, moussaillon ?\");if(answer){_this.deletePost();}};_this.deletePost=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var postId,token,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;postId=_this.props.match.params.postId;token=isLoggedIn().token;_context2.next=5;return remove(postId,token);case 5:response=_context2.sent;// console.log(`dans la méthode deletePost de OnePost: response: ${response}, postId: ${postId}, token: ${token}`);\nif(response.error){console.log(\"The response couldn't be retrieved from the server. \");}else{_this.setState({redirectionPosts:true});}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.error(\"The deletePost method encountered the following error: \".concat(_context2.t0,\".\"));case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));_this.renderPost=function(post){var _post$author,_post$author2;var posterId;if(typeof post.author===\"string\"){posterId=post.author?\"/user/\".concat(post.author._id):\"\";}var posterPseudo=post.author?post.author.pseudo:\"un Inconnu\";return/*#__PURE__*/_jsxs(\"div\",{className:\"card col-12\",style:{backgroundColor:\"#D9D9D9\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URI,\"/post/photo/\").concat(post._id,\"?\").concat(new Date().getTime()),onError:function onError(img){return img.target.src=\"\".concat(defaultPostPic);},className:\"img-thumbnail mb-3\",style:{height:\"auto\",width:\"auto\",objectFit:\"cover\",boxShadow:\"3px 3px 10px grey\"},alt:post.title})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-3 mb-3 display-2 text-center\",children:post.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-justify lead\",style:{padding:\"20px\"},children:post.body}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-italic\",children:[\"Post\\xE9 par\",\" \",/*#__PURE__*/_jsx(Link,{to:typeof post.author===\"string\"?posterId:\"/post/\".concat(post._id),style:{color:\"#3BA7BF\"},children:posterPseudo}),\" \",\"le \",new Date(post.created).toLocaleDateString('fr-FR')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block\",children:[/*#__PURE__*/_jsx(Link,{to:\"/posts\",className:\"btn btn-lg btn-block btn-outline-success text-center font-weight-bold\",style:{fontWeight:\"bold\",fontSize:\"1.1rem\",marginBottom:\"15px\"},children:\"Retour aux messages\"}),isLoggedIn().user&&isLoggedIn().user._id===((_post$author=post.author)===null||_post$author===void 0?void 0:_post$author._id)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/post/edit/\".concat(post._id),className:\"btn btn-raised btn-info mr-3 btn-sm\",style:{fontSize:\"0.9rem\",marginBottom:\"15px\",cursor:\"pointer\"},children:\"Modifier\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-raised btn-danger\",style:{fontSize:\"0.9rem\",marginBottom:\"15px\",cursor:\"pointer\"},onClick:_this.deleteConfirmation,children:\"Supprimer\"})]}),/*#__PURE__*/_jsx(\"div\",{children:isLoggedIn().user&&isLoggedIn().user.right===process.env.REACT_APP_ADMIN_TITLE&&/*#__PURE__*/_jsx(\"div\",{className:\"card mt-5 jumbotron\",style:{boxShadow:\"3px 3px 10px grey\",borderRadius:\"10%\",backgroundColor:\"#D9D9D9\",padding:\"32px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mb-3\",style:{color:\"#9662E3\",fontWeight:\"bold\"},children:\"Interface du Roi des Pirates\"}),((_post$author2=post.author)===null||_post$author2===void 0?void 0:_post$author2._id)&&/*#__PURE__*/_jsx(Link,{to:\"/post/edit/\".concat(post._id),className:\"btn btn-raised btn-light mr-5 font-weight-bold\",style:{color:\"black\"},children:\"Modifier en tant que Roi\"}),/*#__PURE__*/_jsx(\"button\",{onClick:_this.deleteConfirmation,className:\"btn btn-raised btn-dark font-weight-bold\",children:\"Supprimer en tant que Roi\"})]})})})]})]});};return _this;}_createClass(OnePost,[{key:\"render\",value:function render(){var _this$state=this.state,post=_this$state.post,redirectionPosts=_this$state.redirectionPosts,comments=_this$state.comments;if(redirectionPosts){return/*#__PURE__*/_jsx(Redirect,{to:\"/posts/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron\",children:[!post?/*#__PURE__*/_jsx(\"div\",{className:\"jumbotron text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Chargement...\"})}):this.renderPost(post),/*#__PURE__*/_jsx(WriteComment,{postId:post._id,comments:comments,updateComments:this.updateComments})]});}}]);return OnePost;}(Component);export default OnePost;","map":{"version":3,"sources":["C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/src/pages/post/OnePost.jsx"],"names":["React","Component","Link","Redirect","viewPost","remove","defaultPostPic","isLoggedIn","WriteComment","OnePost","state","post","comments","redirectionPosts","componentDidMount","postId","props","match","params","onePost","error","console","log","setState","updateComments","deleteConfirmation","answer","window","confirm","deletePost","token","response","renderPost","posterId","author","_id","posterPseudo","pseudo","backgroundColor","process","env","REACT_APP_API_URI","Date","getTime","img","target","src","height","width","objectFit","boxShadow","title","padding","body","color","created","toLocaleDateString","fontWeight","fontSize","marginBottom","user","cursor","right","REACT_APP_ADMIN_TITLE","borderRadius"],"mappings":"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","sourcesContent":["// Native modules import\r\nimport React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n// Personal modules import\r\nimport { viewPost, remove } from \"../../logic/post/apiPost\";\r\nimport defaultPostPic from \"../../images/beautiful-sea.jpg\";\r\nimport { isLoggedIn } from \"../../logic/auth/index\";\r\nimport WriteComment from \"../../components/post/WriteComment\";\r\n\r\nclass OnePost extends Component {\r\n  state = {\r\n    post: \"\",\r\n    comments: [],\r\n\r\n    redirectionPosts: false,\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const postId = this.props.match.params.postId;\r\n    const onePost = await viewPost(postId);\r\n    // console.log(\"onePost dans componentDidMount\", onePost);\r\n    if (onePost.error) {\r\n      console.log(`An error happened when getting the post information.`);\r\n    } else {\r\n      this.setState({\r\n        post: onePost,\r\n        comments: onePost.comments,\r\n      });\r\n    }\r\n  };\r\n\r\n  updateComments = (comments) => {\r\n    this.setState({ comments });\r\n  };\r\n\r\n  deleteConfirmation = () => {\r\n    let answer = window.confirm(\r\n      \"Es-tu sûr de vouloir supprimer ton message, moussaillon ?\"\r\n    );\r\n    if (answer) {\r\n      this.deletePost();\r\n    }\r\n  };\r\n\r\n  deletePost = async () => {\r\n    try {\r\n      const postId = this.props.match.params.postId;\r\n      const token = isLoggedIn().token;\r\n      const response = await remove(postId, token);\r\n      // console.log(`dans la méthode deletePost de OnePost: response: ${response}, postId: ${postId}, token: ${token}`);\r\n      if (response.error) {\r\n        console.log(`The response couldn't be retrieved from the server. `);\r\n      } else {\r\n        this.setState({\r\n          redirectionPosts: true,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        `The deletePost method encountered the following error: ${error}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  renderPost = (post) => {\r\n    let posterId;\r\n    if (typeof post.author === \"string\") {\r\n      posterId = post.author ? `/user/${post.author._id}` : \"\";\r\n    }\r\n    const posterPseudo = post.author ? post.author.pseudo : \"un Inconnu\";\r\n\r\n    return (\r\n      <div className=\"card col-12\" style={{ backgroundColor: \"#D9D9D9\" }}>\r\n        <div className=\"card-body text-center\">\r\n          <img\r\n            src={`${process.env.REACT_APP_API_URI}/post/photo/${\r\n              post._id\r\n            }?${new Date().getTime()}`}\r\n            onError={(img) => (img.target.src = `${defaultPostPic}`)}\r\n            className=\"img-thumbnail mb-3\"\r\n            style={{\r\n              height: \"auto\",\r\n              width: \"auto\",\r\n              objectFit: \"cover\",\r\n              boxShadow: \"3px 3px 10px grey\",\r\n            }}\r\n            alt={post.title}\r\n          />\r\n        </div>\r\n        <hr />\r\n        <h2 className=\"mt-3 mb-3 display-2 text-center\">{post.title}</h2>\r\n        <p className=\"card-text text-justify lead\" style={{ padding: \"20px\" }}>\r\n          {post.body}\r\n        </p>\r\n        <p className=\"font-italic\">\r\n          Posté par{\" \"}\r\n          <Link\r\n            to={\r\n              typeof post.author === \"string\" ? posterId : `/post/${post._id}`\r\n            }\r\n            style={{ color: \"#3BA7BF\" }}\r\n          >\r\n            {posterPseudo}\r\n          </Link>{\" \"}\r\n          le {new Date(post.created).toLocaleDateString('fr-FR')}\r\n        </p>\r\n        <div className=\"inline-block\">\r\n          <Link\r\n            to={`/posts`}\r\n            className=\"btn btn-lg btn-block btn-outline-success text-center font-weight-bold\"\r\n            style={{\r\n              fontWeight: \"bold\",\r\n              fontSize: \"1.1rem\",\r\n              marginBottom: \"15px\",\r\n            }}\r\n          >\r\n            Retour aux messages\r\n          </Link>\r\n          {isLoggedIn().user && isLoggedIn().user._id === post.author?._id && (\r\n            <>\r\n              <Link\r\n                to={`/post/edit/${post._id}`}\r\n                className=\"btn btn-raised btn-info mr-3 btn-sm\"\r\n                style={{\r\n                  fontSize: \"0.9rem\",\r\n                  marginBottom: \"15px\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                Modifier\r\n              </Link>\r\n              <button\r\n                className=\"btn btn-raised btn-danger\"\r\n                style={{\r\n                  fontSize: \"0.9rem\",\r\n                  marginBottom: \"15px\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={this.deleteConfirmation}\r\n              >\r\n                Supprimer\r\n              </button>\r\n            </>\r\n          )}\r\n          <div>\r\n            {isLoggedIn().user &&\r\n              isLoggedIn().user.right === process.env.REACT_APP_ADMIN_TITLE && (\r\n                <div\r\n                  className=\"card mt-5 jumbotron\"\r\n                  style={{\r\n                    boxShadow: \"3px 3px 10px grey\",\r\n                    borderRadius: \"10%\",\r\n                    backgroundColor: \"#D9D9D9\",\r\n                    padding: \"32px\",\r\n                  }}\r\n                >\r\n                  <div className=\"card-body\">\r\n                    <h5\r\n                      className=\"card-title mb-3\"\r\n                      style={{ color: \"#9662E3\", fontWeight: \"bold\" }}\r\n                    >\r\n                      Interface du Roi des Pirates\r\n                    </h5>\r\n                    {post.author?._id && (\r\n                      <Link\r\n                        to={`/post/edit/${post._id}`}\r\n                        className=\"btn btn-raised btn-light mr-5 font-weight-bold\"\r\n                        style={{color: \"black\"}}\r\n                      >\r\n                        Modifier en tant que Roi\r\n                      </Link>\r\n                    )}\r\n                    <button\r\n                      onClick={this.deleteConfirmation}\r\n                      className=\"btn btn-raised btn-dark font-weight-bold\"\r\n                    >\r\n                      Supprimer en tant que Roi\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { post, redirectionPosts, comments } = this.state;\r\n    if (redirectionPosts) {\r\n      return <Redirect to={`/posts/`} />;\r\n    }\r\n    return (\r\n      <div className=\"jumbotron\">\r\n        {!post ? (\r\n          <div className=\"jumbotron text-center\">\r\n            <h2>Chargement...</h2>\r\n          </div>\r\n        ) : (\r\n          this.renderPost(post)\r\n        )}\r\n        <WriteComment\r\n          postId={post._id}\r\n          comments={comments}\r\n          updateComments={this.updateComments}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OnePost;\r\n"]},"metadata":{},"sourceType":"module"}