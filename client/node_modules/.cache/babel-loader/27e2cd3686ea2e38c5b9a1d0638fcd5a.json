{"ast":null,"code":"export const createPost = async (userId, token, post) => {\n  try {\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/new/${userId}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: post\n    });\n    return await response.json();\n  } catch (error) {\n    return console.error(`Couldn't post data to api because of error: ${error}.`);\n  }\n};\nexport const listAllPosts = async () => {\n  try {\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/posts`, {\n      method: \"GET\"\n    });\n    return await response.json();\n  } catch (error) {\n    return console.error(`Couldn't get response from api because of error: ${error}.`);\n  }\n};\nexport const viewPost = async postId => {\n  try {\n    console.log(`postId dans la function viewPost: ${postId}`);\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\n      method: \"GET\"\n    });\n    console.log(`response dans viewPost de apiPost: ${response}`);\n    return await response.json();\n  } catch (error) {\n    return console.error(`Couldn't get response from api in viewPost because of error: ${error}.`);\n  }\n};\nexport const listUserPosts = async (userId, token) => {\n  try {\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/posts/by/${userId}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return await response.json();\n  } catch (error) {\n    return console.error(`Couldn't get response from api because of error: ${error}.`);\n  }\n};\nexport const remove = async (postId, token) => {\n  try {\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return await response.json();\n  } catch (error) {\n    return console.error(`Couldn't get response from api because of error: ${error}.`);\n  }\n};\nexport const updatePost = async (postId, token, post) => {\n  try {\n    console.info('INSIDE UPDATEPOST AVANT LE FETCH');\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: post\n    });\n    console.info('INSIDE UPDATEPOST APRES LE FETCH MAIS AVANT LE RETOUR DE LA REPONSE');\n    return await response.json();\n  } catch (error) {\n    return console.error(`Couldn't put data to api because of error: ${error}.`);\n  }\n};","map":{"version":3,"sources":["C:/Users/virtuoworks/Desktop/taverne-des-soiffards/front-end/src/post/apiPost.js"],"names":["createPost","userId","token","post","response","fetch","process","env","REACT_APP_API_URI","method","headers","Accept","Authorization","body","json","error","console","listAllPosts","viewPost","postId","log","listUserPosts","remove","updatePost","info"],"mappings":"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","sourcesContent":["export const createPost = async (userId, token, post) => {\r\n  try {\r\n    const response = await fetch(\r\n      `${process.env.REACT_APP_API_URI}/post/new/${userId}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: post,\r\n      }\r\n    );\r\n    return await response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't post data to api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const listAllPosts = async () => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/posts`, {\r\n      method: \"GET\",\r\n    });\r\n    return await response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n      );\r\n    }\r\n};\r\n\r\nexport const viewPost = async (postId) => {\r\n  try {\r\n    console.log(`postId dans la function viewPost: ${postId}`)\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\r\n      method: \"GET\",\r\n    });\r\n    console.log(`response dans viewPost de apiPost: ${response}`)\r\n    return await response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api in viewPost because of error: ${error}.`\r\n      );\r\n    }\r\n};\r\n\r\nexport const listUserPosts = async (userId, token) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/posts/by/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    });\r\n    return await response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n      );\r\n    }\r\n};\r\n\r\nexport const remove = async (postId, token) => {\r\n  try {\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    return await response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't get response from api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\nexport const updatePost = async (postId, token, post) => {\r\n  try {\r\n    console.info('INSIDE UPDATEPOST AVANT LE FETCH')\r\n    const response = await fetch(`${process.env.REACT_APP_API_URI}/post/${postId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: post,\r\n    });\r\n    console.info('INSIDE UPDATEPOST APRES LE FETCH MAIS AVANT LE RETOUR DE LA REPONSE')\r\n    return await response.json();\r\n  } catch (error) {\r\n    return console.error(\r\n      `Couldn't put data to api because of error: ${error}.`\r\n    );\r\n  }\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}